{%- liquid
  assign grid_item_width = 'small--one-half medium-up--one-quarter'
  assign row_of = 4

  if recent_count != null
    case recent_count
      when 2
        assign grid_item_width = 'medium-up--one-half'
        assign row_of = 2
      when 3
        assign grid_item_width = 'small--one-half medium-up--one-third'
        assign row_of = 3
      when 4
        assign grid_item_width = 'small--one-half medium-up--one-quarter'
        assign row_of = 4
      when 6
        assign grid_item_width = 'small--one-half medium-up--one-sixth'
        assign row_of = 6
      when 8
        assign grid_item_width = 'small--one-half medium-up--one-quarter'
        assign row_of = 4
    endcase
  else
    assign grid_item_width = 'small--one-half medium-up--one-quarter'
    assign row_of = 4
    assign recent_count = 4
  endif
-%}

<div
  data-subsection
  data-section-id="{{ section.id }}"
  data-section-type="recently-viewed"
  data-product-handle="{{ product.handle }}"
  data-recent-count="{{ recent_count }}"
  data-grid-item-class="{{ grid_item_width }}"
  data-row-of="{{ row_of }}"
    class="{% if recent_view_section %}recent-view-section{% elsif recent_view_modal %}recent-view-modal{% endif %}"  >
  <!-- <hr class="hr--large"> -->
  <div id="recent-view-inner" class="index-section index-section--small index-section--recently">
    <div class="page-width recently-header">
      <header class="section-header" style="border-top: #eee 1px solid;">
        <h3 class="section-header__title">{{ 'products.general.recent_products' | t }}</h3>
      </header>
    </div>

    <div class="page-width page-width--flush-small">
      <div class="grid-overflow-wrapper">
        <div id="RecentlyViewed-{{ section.id }}" class="grid grid--uniform" data-aos="overflow__animation"></div>
      </div>
    </div>
  </div>
</div>