{%- liquid
  assign gutter_width = 0
  assign aspect_total = 1.0
  if section.settings.enable_gutter
    assign gutter_width = 1
  endif
  assign gutter_total = gutter_width
  assign image_index = 0
  assign enable_zoom = false
-%}

{%- capture image_count -%}{%- if section.settings.image_1 -%}+{%- endif -%}{%- if section.settings.image_2 -%}+{%- endif -%}{%- if section.settings.image_3 -%}+{%- endif -%}{%- if section.settings.image_4 -%}+{%- endif -%}{%- endcapture -%}

<div class="page-width image-grid-section">
  <div
    data-subsection
    data-section-id="{{ block.id }}">
    <div class="grid flex-grid image__grid">
      {%- if section.settings.image_1 -%}
      <div class="image__grid-image image__grid-image-one">
        {{ section.settings.image_1 | img_url: '960x1000', crop: 'center' | img_tag }}
      </div>
      {%- endif -%}

      {%- if section.settings.image_2 -%}
      <div class="image__grid-image image__grid-image-two">
        {{ section.settings.image_2 | img_url: '960x600', crop: 'center' | img_tag }}
      </div>
      {%- endif -%}

      {%- if section.settings.image_3 -%}
      <div class="image__grid-image image__grid-image-three">
        {{ section.settings.image_3 | img_url: '960x600', crop: 'center' | img_tag }}
      </div>
      {%- endif -%}

      {%- if section.settings.image_4 -%}
      <div class="image__grid-image image__grid-image-four">
        {{ section.settings.image_4 | img_url: '960x1000', crop: 'center' | img_tag }}
      </div>
      {%- endif -%}

    </div>

    {% if section.settings.image_5 != blank %}
    <div class="grid flex-grid image__grid">
      {%- if section.settings.image_5 -%}
      <div class="image__grid-image image__grid-image-one">
        {{ section.settings.image_5 | img_url: '960x1000', crop: 'center' | img_tag }}
      </div>
      {%- endif -%}

      {%- if section.settings.image_6 -%}
      <div class="image__grid-image image__grid-image-two">
        {{ section.settings.image_6 | img_url: '960x600', crop: 'center' | img_tag }}
      </div>
      {%- endif -%}

      {%- if section.settings.image_7 -%}
      <div class="image__grid-image image__grid-image-three">
        {{ section.settings.image_7 | img_url: '960x600', crop: 'center' | img_tag }}
      </div>
      {%- endif -%}

      {%- if section.settings.image_8 -%}
      <div class="image__grid-image image__grid-image-four">
        {{ section.settings.image_8 | img_url: '960x1000', crop: 'center' | img_tag }}
      </div>
      {%- endif -%}

    </div>
    {% endif %}
  </div>
</div>

{% style %}

.image-grid-section {
  margin-bottom: 70px;
}

.image__grid {
  max-width: 1000px;
  margin: 5px auto;
  position: relative;
}

.image__grid-image {
  width: calc(50% - 20px);
  margin: 10px;
}
.image__grid-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.image__grid-image-one {
  height: 500px;
}

.image__grid-image-two {
  height: 300px;
}

.image__grid-image-three {
  height: 300px;
}

.image__grid-image-four {
  position: absolute;
  height: 500px;
  right: 0;
  bottom: 0;
}

@media screen and (max-width: 767px) {
  .image__grid {
    margin: 0px auto;
  }

  .image__grid-image {
    width: calc(50% - 10px);
    height: calc(50vw - 10px);
    margin: 5px;
  }
}

{% endstyle %}


{% schema %}
  {
    "name": "Grid of images",
    "settings": [
    {
        "type": "image_picker",
        "id": "image_1",
        "label": "Image 1"
      },
      {
        "type": "url",
        "id": "image_1_link",
        "label": "Link 1",
        "info": "Optional"
      },
      {
        "type": "image_picker",
        "id": "image_2",
        "label": "Image 2"
      },
      {
        "type": "url",
        "id": "image_2_link",
        "label": "Link 2",
        "info": "Optional"
      },
      {
        "type": "image_picker",
        "id": "image_3",
        "label": "Image 3"
      },
      {
        "type": "url",
        "id": "image_3_link",
        "label": "Link 3",
        "info": "Optional"
      },
      {
        "type": "image_picker",
        "id": "image_4",
        "label": "Image 4"
      },
      {
        "type": "url",
        "id": "image_4_link",
        "label": "Link 4",
        "info": "Optional"
      },
      {
        "type": "image_picker",
        "id": "image_5",
        "label": "Image 5"
      },
      {
        "type": "url",
        "id": "image_5_link",
        "label": "Link 5",
        "info": "Optional"
      },
      {
        "type": "image_picker",
        "id": "image_6",
        "label": "Image 6"
      },
      {
        "type": "url",
        "id": "image_6_link",
        "label": "Link 6",
        "info": "Optional"
      },
      {
        "type": "image_picker",
        "id": "image_7",
        "label": "Image 7"
      },
      {
        "type": "url",
        "id": "image_7_link",
        "label": "Link 7",
        "info": "Optional"
      },
      {
        "type": "image_picker",
        "id": "image_8",
        "label": "Image 8"
      },
      {
        "type": "url",
        "id": "image_8_link",
        "label": "Link 8",
        "info": "Optional"
      }
    ],
    "presets": [
      {
        "name": "Grid of images"
      }
    ]
  }
{% endschema %}